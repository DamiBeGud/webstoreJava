(()=>{"use strict";!function(){let t;function e(e){t=e.target.id,console.log("id:",t)}function n(){const t=document.querySelectorAll(".addStock");console.log(t),t.forEach((function(t){t.addEventListener("click",e)}))}function o(){let t=document.querySelector("tbody"),e=document.getElementById("notFound");t&&t.remove(),e&&e.remove()}n(),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("addStockButton").addEventListener("click",(function(){console.log("id"+t);let e=document.getElementById("editAmount").value;const n=JSON.stringify({id:parseInt(t),stock:parseInt(e)});fetch("http://localhost:8080/api/v1/product/update/stock",{method:"POST",headers:{"Content-Type":"application/json"},body:n}).then((t=>{if(!t.ok)throw new Error("Network response was not ok");return t.json()})).then((t=>{document.getElementById("closeAddStockSidebar").click(),console.log("Success:",t);let e=document.getElementById("stock-"+t.id);e.innerHTML="",e.innerHTML=t.stock})).catch((t=>{console.error("Error:",t)}))}))})),document.addEventListener("DOMContentLoaded",(function(){document.getElementById("searchButton").addEventListener("click",(function(){let t=document.querySelector(".inputid").getAttribute("id"),e=document.getElementById("searchInput").value,d={userId:parseInt(t),searchString:e};fetch("http://localhost:8080/api/v1/product/company/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then((t=>{if(!t.ok)throw o(),document.querySelector("table").insertAdjacentHTML("afterend",'<p class="alert alert-danger" id="notFound">No products with that name were found.</p>'),new Error("Network response was not ok");return t.json()})).then((t=>{console.log("Response:",t),function(t){o();let e=document.querySelector("table");if(t.length>0){let n=document.createElement("tbody");t.forEach((t=>{let e=document.createElement("tr");e.innerHTML=`\n                    <td>${t.id}</td>\n                    <td>${t.name}</td>\n                    <td>$<span>${t.price}</span></td>\n                    <td id="stock-${t.id}">${t.stock}</td>\n                    <td>Category</td>\n                    <td>SubCategory</td>\n                    <td><button class="btn btn-primary" data-toggle="collapse" data-target="#editProductCollapse">Edit</button></td>\n                    <td><button class="btn btn-secondary addStock" data-toggle="collapse" data-target="#editAmountCollapse" id="${t.id}">Add</button></td>\n                    <td><button class="btn btn-danger">Delete</button></td>`,n.appendChild(e)})),e.appendChild(n),console.log("rebuilt with new data")}}(t),n()})).catch((t=>{console.error("Error:",t)}))}))}))}()})();